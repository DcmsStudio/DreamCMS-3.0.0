<cp:extends template="../main"/>

<cp:block name="toolbar">
<div id="tree-grid-btns" style="display:inline">
    <button id="add_default" value="add file" class="action-button"><img src="images/buttons/new.png" width="16" height="16" alt="" />&nbsp;{trans('Menüpunkt hinzufügen')}</button>
    <button id="rename" value="rename" class="action-button"><img src="images/buttons/rename.png" width="16" height="16" alt="" />&nbsp;{trans('Umbenennen')}</button>
    <button id="remove" value="remove" class="action-button"><img src="images/buttons/bin.png" width="16" height="16" alt="" />&nbsp;{trans('Löschen')}</button>
    <button id="paste" value="paste" class="action-button"><img src="images/buttons/refresh.png" width="16" height="16" alt="" />&nbsp;{trans('Einfügen')}</button>
    <button id="copy" value="copy" class="action-button"><img src="images/buttons/copy.png" width="16" height="16" alt="" />&nbsp;{trans('Kopieren')}</button>
</div>
</cp:block>

<cp:block name="content">
    
    <div id="tree-grid-search-bar" style="display:inline-block" class="mb5">
        <button id="search" class="action-button"><img src="images/buttons/filefind.png" width="16" height="16" alt="" />&nbsp;{trans('Suchen')}</button>
        <button id="clear_search" class="action-button" onclick="$('#text').val('');$('#tree-grid').jstree('refresh',-1);"><img src="images/buttons/refresh.png" width="16" height="16" alt="" />&nbsp;{trans('Suche löschen')}</button>        
        <input type="text" id="text" value="" style="display:block; float:left;" />
    </div>
    
    <div style="display:block;min-height:120px;">
        <div class="tree-log" style="float:right;">
            <div class="toolbar">
                <input type="button" class="action-button" value="reconstruct" onclick="$('#log').load('admin.php?adm=menues&action=index&do=reconstruct', function () { $('#demo').jstree('refresh',-1); });" />    
                <input type="button" class="action-button" id="analyze" value="analyze" onclick="$('#log').load('admin.php?adm=menues&action=index&do=analyze');" />        
                <input type="button" class="action-button" value="refresh" onclick="$('#tree-grid').jstree('refresh',-1);" />
            </div>
            <div id="log" class="p3" style="display:block;min-height:100px;"></div>
        </div>

        <div style="float:left;display:inline-block;width:79%" class="tree-grid-nlist tblborder list">
            <div class="tableheader">
                <div style="width:68%;float:left">Seite</div>
                <div class="options" style="width:12%;float:right">Optionen</div>
            </div>
            
            <!-- the tree container (notice NOT an UL node) -->
            <div id="tree-grid" class="js-tree"></div>
        </div>
    </div>
<script type="text/javascript" language="javascript">

    setTimeout(function() { Page.registerNavigationTree();}, 300);

</script>
</cp:block>
