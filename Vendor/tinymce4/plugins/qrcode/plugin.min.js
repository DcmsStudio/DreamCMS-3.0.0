tinymce.PluginManager.requireLangPack("qrcode");
tinymce.PluginManager.add("qrcode",function(c){function f(b){var a={};b.match(/\?/g)&&(b=b.replace(/.*\?(.*)/g,"$1"));b=b.split("&");for(var c=0;c<b.length;c++){var d=b[c].split("=");"undefined"===typeof a[d[0]]?a[d[0]]=d[1]:"string"===typeof a[d[0]]?a[d[0]]=[a[d[0]],d[1]]:a[d[0]].push(d[1])}return a}function e(b){var a=c.selection.getNode();b=[];a&&"img"==a.tagName.toLowerCase()&&a.src&&a.src.match(/qrserver\.com/gi)&&(b=f(a.src));a="Create QRcode";"undefined"!==typeof tinymce.settings.qrcode_title&&
	tinymce.settings.qrcode_title&&(a=tinymce.settingsqrcode_title);win=c.windowManager.open({title:a,url:tinyMCE.baseURL+"/plugins/qrcode/qrcode.html",filetype:"image",width:650,height:430,inline:1,buttons:[{text:"cancel",onclick:function(){this.parent().parent().close()}}]},b)}c.addButton("qrcode",{icon:!0,image:tinyMCE.baseURL+"/plugins/qrcode/icon.png",tooltip:"Create QRcode",shortcut:"Ctrl+QR",stateSelector:["img[data-mce-placeholder=qrcode]"],onclick:e});c.addShortcut("Ctrl+QR","",e);c.addMenuItem("qrcode",
	{icon:"media",text:"Create QRcode",shortcut:"Ctrl+QR",onclick:e,context:"insert"})});